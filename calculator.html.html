<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>í€µì„œë¹„ìŠ¤ ê³„ì‚°ê¸°</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      height: 100vh; background: #f8f9fa; margin: 0;
    }
    .calc-box {
      background: #fff; padding: 20px 30px; border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center; width: 340px;
    }
    h2 { color:#333; margin: 0 0 16px; }
    input {
      width: 100%; padding: 10px; font-size: 1.1rem; text-align: right;
      border: 1px solid #ccc; border-radius: 8px; outline: none;
    }
    .result { margin-top: 16px; font-size: 1.05rem; color: #222; text-align: left; }
    .result p { margin: 8px 0; }
    .highlight { color: #0066cc; font-weight: 700; }
    .final {
      margin-top: 18px;
      padding-top: 10px;
      border-top: 1px dashed #aaa;
      font-size: 1.2rem;
      color: #000;
    }
  </style>
</head>
<body>
  <div class="calc-box">
    <h2>í€µì„œë¹„ìŠ¤ ê³„ì‚°ê¸°</h2>
    <input type="number" id="inputValue" placeholder="ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”" step="0.01" />
    <div class="result">
      <p>â‘  ë¶€ê°€ì„¸(10%): <span class="highlight" id="result1">0</span> ì›</p>
      <p>â‘¡ ì¶”ê°€ ë¶€ê°€ì„¸(10%): <span class="highlight" id="result2">0</span> ì›</p>
      <div class="final">
        ğŸ’° ìµœì¢…ê²°ê³¼ê°’: <span class="highlight" id="finalResult">0</span> ì›
      </div>
    </div>
  </div>

  <script>
    const inputEl = document.getElementById('inputValue');
    const r1El = document.getElementById('result1');
    const r2El = document.getElementById('result2');
    const finalEl = document.getElementById('finalResult');

    function toNumber(v) {
      if (typeof v !== 'string') v = String(v ?? '');
      v = v.replace(/,/g, '').trim();
      const n = parseFloat(v);
      return isNaN(n) ? 0 : n;
    }

    // ğŸ’¡ 10ì› ë‹¨ìœ„ ìƒëµ & 100ì› ë‹¨ìœ„ 500ì› ì˜¬ë¦¼
    function roundUpTo500(n) {
      let rounded = Math.round(n / 10) * 10; // 10ì› ë‹¨ìœ„ ë°˜ì˜¬ë¦¼
      const hundreds = Math.floor(rounded / 100) * 100;
      const remainder = rounded - hundreds;

      if (remainder > 0 && remainder <= 500) {
        return hundreds + 500;
      } else if (remainder > 500) {
        return hundreds + 1000;
      } else {
        return hundreds;
      }
    }

    function format(n) {
      return n.toLocaleString();
    }

    function calculate() {
      const base = toNumber(inputEl.value);
      if (!base) {
        r1El.textContent = 0;
        r2El.textContent = 0;
        finalEl.textContent = 0;
        return;
      }

      // ì›ê¸ˆ ê¸°ë°˜ ê³„ì‚°
      const vat = base * 1.10;
      const addVat = vat * 1.10;

      // ìµœì¢…ê²°ê³¼ê°’ (ì˜¬ë¦¼ ê·œì¹™ ì ìš©)
      const final = roundUpTo500(addVat);

      r1El.textContent = format(vat);
      r2El.textContent = format(addVat);
      finalEl.textContent = format(final);
    }

    inputEl.addEventListener('input', calculate);
    calculate();
  </script>
</body>
</html>
